<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nyembo Daniel & Chisanga Wedding</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f8f4ef;        /* warm beige */
      --card:#fff;
      --gold:#caa45a;      /* gold accent */
      --text:#2b2b2b;      /* deep charcoal */
      --muted:#6b6b6b;
      --radius:14px;
      --shadow: 0 8px 24px rgba(43,43,43,0.06);
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
    .container{max-width:1100px;margin:28px auto;padding:28px}

    /* Hero */
    .hero{
      background: linear-gradient(180deg, rgba(202,164,90,0.03), rgba(202,164,90,0.02));
      border:1px solid rgba(202,164,90,0.08);
      padding:28px;border-radius:20px;display:flex;gap:22px;align-items:center;box-shadow:var(--shadow)
    }
    .hero .photo{
      width:140px;height:140px;border-radius:14px;background-image:url('https://images.unsplash.com/photo-1524504388940-b1c1722653e1?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder');
      background-size:cover;background-position:center;border:6px solid rgba(250,245,240,0.8);
    }
    h1.title{font-family:'Great Vibes', 'Playfair Display', serif;margin:0;font-size:44px;color:var(--text);letter-spacing:0.5px}
    .hero .meta{margin-left:8px}
    p.lead{margin:6px 0 0;color:var(--muted);font-size:15px}

    /* Nav shortcuts */
    .shortcuts{display:flex;gap:12px;margin-top:14px}
    .btn{
      background:transparent;border:1px solid rgba(43,43,43,0.06);padding:10px 14px;border-radius:10px;color:var(--text);cursor:pointer;font-weight:600;
      display:inline-flex;gap:8px;align-items:center;text-decoration:none
    }
    .btn.primary{background:linear-gradient(90deg, rgba(202,164,90,0.12), rgba(202,164,90,0.06));border:1px solid rgba(202,164,90,0.18);color:var(--text)}
    .btn.ghost{background:transparent}

    /* Layout */
    .grid{display:grid;grid-template-columns:1fr 420px;gap:24px;margin-top:22px}
    .card{background:var(--card);border-radius:var(--radius);padding:20px;border:1px solid rgba(43,43,43,0.04);box-shadow:var(--shadow)}
    .muted{color:var(--muted);font-size:14px}

    /* Event snapshot */
    .snapshot{display:flex;gap:8px;align-items:center;margin-top:12px}
    .snapshot .col{flex:1;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(250,245,240,0.8), rgba(255,255,255,0.6));border:1px solid rgba(43,43,43,0.03);text-align:center}
    .snapshot .col h4{margin:0 0 6px 0;font-size:13px;color:var(--muted)}
    .snapshot .col p{margin:0;font-weight:600}

    /* Countdown */
    .countdown{display:flex;gap:12px;margin-top:14px}
    .countdown .unit{background:var(--card);padding:10px 14px;border-radius:10px;border:1px solid rgba(43,43,43,0.04);text-align:center}
    .countdown .num{font-size:20px;font-weight:700;color:var(--text)}
    .countdown .label{font-size:12px;color:var(--muted)}

    /* Gallery / slideshow */
    .slideshow{position:relative;border-radius:12px;overflow:hidden;margin-top:16px;height:220px;background:#efe9e2}
    .slides{height:100%;display:flex;transition:transform 0.6s ease}
    .slide{min-width:100%;background-size:cover;background-position:center}
    .slide-overlay{position:absolute;left:12px;bottom:12px;background:rgba(255,255,255,0.7);padding:8px 10px;border-radius:8px;color:var(--text);font-weight:600}

    /* Program list */
    .program{margin-top:12px}
    .program li{margin:8px 0}

    /* Map modal */
    .map-link{color:var(--gold);text-decoration:underline;cursor:pointer}
    .modal{position:fixed;inset:0;background:rgba(20,20,20,0.6);display:flex;align-items:center;justify-content:center;z-index:999;display:none}
    .modal .box{width:90%;max-width:850px;height:70%;background:var(--card);border-radius:12px;overflow:hidden;position:relative}
    .modal .close{position:absolute;right:10px;top:10px;background:var(--card);border:1px solid rgba(43,43,43,0.06);padding:6px 8px;border-radius:8px;cursor:pointer}

    /* Footer */
    footer{margin-top:28px;text-align:center;color:var(--muted);font-size:13px}

    /* Guest lookup overrides: make guest card slightly lighter */
    .lookup{background:linear-gradient(180deg,#fff,#fbf7f3);border:1px solid rgba(43,43,43,0.03)}
    input[type=text]{flex:1;padding:12px;border-radius:10px;border:1px solid rgba(43,43,43,0.06);background:transparent;color:var(--text);font-size:15px}
    button{background:transparent;border:1px solid rgba(43,43,43,0.06);padding:10px 16px;border-radius:10px;color:var(--text);cursor:pointer;font-weight:600}
    button.secondary{background:transparent;border:1px solid rgba(43,43,43,0.04);color:var(--muted)}

    /* Pill styles */
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid rgba(43,43,43,0.04);margin-left:8px;font-size:13px}
    .status-awaiting{color:var(--gold);border-color:rgba(202,164,90,0.15)}
    .status-checked{color:#2a9d52;border-color:rgba(42,157,82,0.08)}

    @media (max-width:980px){
      .grid{grid-template-columns:1fr}
      .hero{flex-direction:column;align-items:flex-start}
      .hero .photo{width:120px;height:120px}
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- HERO / HOME -->
    <header class="hero" id="home">
      <div class="photo" id="heroPhoto" aria-hidden="true"></div>
      <div class="meta">
        <h1 class="title">Nyembo Daniel &amp; Chisanga's Wedding</h1>
        <p class="lead">December 27, 2025 â€¢ Legacy Resort, Lusaka, Zambia</p>
        <p style="margin-top:8px;color:var(--muted)">Two hearts, one love, one lifetime.</p>

        <div class="shortcuts">
          <a href="#details" class="btn primary">ðŸ“… Event Details</a>
          <a href="#gallery" class="btn">ðŸ“¸ Gallery</a>
          <a href="#guests" class="btn">ðŸªª Find Your Table</a>
        </div>

        <div class="countdown" style="margin-top:14px" aria-live="polite" id="countdownRoot">
          <div class="unit"><div class="num" id="cdDays">â€”</div><div class="label">Days</div></div>
          <div class="unit"><div class="num" id="cdHours">â€”</div><div class="label">Hours</div></div>
          <div class="unit"><div class="num" id="cdMinutes">â€”</div><div class="label">Minutes</div></div>
          <div class="unit"><div class="num" id="cdSeconds">â€”</div><div class="label">Seconds</div></div>
        </div>
      </div>
    </header>

    <!-- MAIN GRID -->
    <div class="grid">

      <!-- LEFT: Details, slideshow, program -->
      <main>
        <div class="card" id="details">
          <h2 style="font-family:'Playfair Display', serif;margin:0;color:var(--gold)">Welcome</h2>
          <p class="muted" style="margin-top:8px">Welcome to our wedding website! Weâ€™re so excited to celebrate this special day with our family and friends. Here youâ€™ll find all the details you need â€” from the Schedule and Venue to the Table you'll be seated.</p>
          <h3 style="margin-top:18px;font-family:'Playfair Display',serif;color:var(--gold)">Gifts</h3>
<p class="muted" style="margin-top:8px">
  Having you with us is the best gift we could ask for. 
  But if you still feel generous, travel-friendly or monetary gifts would be appreciated.
</p>

          <div class="snapshot" aria-hidden="true" style="margin-top:14px">
            <div class="col">
              <h4>Wedding Talk</h4>
              <p>Lusaka Legacy Resort</p>
            </div>
            <div class="col">
              <h4>Reception</h4>
              <p>Lusaka Legacy Resort</p>
            </div>
            <div class="col">
              <h4>Dress Code</h4>
              <p>No casual outfits; No white dresses</p>
            </div>
          </div>

          <div style="display:flex;gap:12px;align-items:center;margin-top:14px">
            <button class="btn primary" onclick="document.getElementById('programScroll').scrollIntoView({behavior:'smooth'})">View Full Schedule</button>
            <span class="muted" style="font-size:14px">Location:â€¢ <span class="map-link" id="openMap">Lusaka Legacy Resort</span></span>
          </div>

          <hr style="border:none;border-top:1px solid rgba(43,43,43,0.04);margin:18px 0">

          <h3 style="margin:0 0 8px 0;font-family:'Playfair Display'">Gallery</h3>
          <div id="gallery" class="slideshow" role="region" aria-label="Engagement photos slideshow">
            <div class="slides" id="slides">
              <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1517841905240-472988babdf9?q=80&w=1400&auto=format&fit=crop&s=placeholder')"></div>
              <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1524504388940-b1c1722653e1?q=80&w=1400&auto=format&fit=crop&s=placeholder')"></div>
              <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1524503033411-c9566986fc8f?q=80&w=1400&auto=format&fit=crop&s=placeholder')"></div>
            </div>
            <div class="slide-overlay">Soft moments â€” replace with your photos</div>
          </div>

          <p class="muted" style="margin-top:12px">We canâ€™t wait to celebrate love, laughter, and forever with you.</p>
        </div>

        <div class="card program" id="programScroll">
          <h2 style="margin-top:0;font-family:'Playfair Display';color:var(--gold)">Program</h2>
          <ul class="muted" style="margin-top:10px">
            <li><strong>1:30 PM</strong> â€” Arrival of guests</li>
            <li><strong>2:05 PM</strong> â€” Wedding talk</li>
            <li><strong>3:10 PM</strong> â€” Photoshoot, tree guestbook and drinks</li>
            <li><strong>5:10 PM</strong> â€” Guests enter reception hall</li>
            <li><strong>9:30 PM</strong> â€” End of program</li>
          </ul>

          <hr style="border:none;border-top:1px solid rgba(43,43,43,0.04);margin:16px 0">
          <p class="muted"> Strictly no children. Outside alcohol is not permitted. Cash bar available at venue. </p>
        </div>
      </main>

      <!-- RIGHT: Guest lookup (existing content adapted) -->
      <aside class="card lookup" id="guests" aria-labelledby="lookupHeading">
        <h2 id="lookupHeading" style="margin-top:0;font-family:'Playfair Display';color:var(--gold)">Find Your Table</h2>
        <p class="muted">Enter your name exactly as on the invitation (search is case-insensitive and supports partial names).</p>

        <div style="margin-top:12px">
          <div class="form-row" style="display:flex;gap:12px">
            <input id="nameInput" type="text" placeholder="Type your name e.g. John Dert" aria-label="Guest name">
            <button id="searchBtn">Search</button>
          </div>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="clearBtn" class="secondary">Clear</button>
          </div>
          <div id="result" class="result" style="display:none;margin-top:12px" aria-live="polite"></div>

          <div id="allGuestsContainer" style="margin-top:12px;display:none;max-height:420px;overflow:auto">
            <table id="guestTable" aria-live="polite">
              <thead><tr><th>ID</th><th>Name</th><th>Table</th><th>Status</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </aside>

    </div>

    <footer>
      Made with love ðŸ’• by the couple â€” &copy; 2025
    </footer>
  </div>

  <!-- Map Modal -->
  <div class="modal" id="mapModal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="box" role="document">
      <button class="close" id="closeMap">Close</button>
      <!-- Using a search-based embed so it loads without an API key.
           Replace the query parameter if you prefer a precise place id or use Maps Embed API with a key. -->
      <iframe
        id="mapFrame"
        title="Legacy Resort, Lusaka map"
        src="https://www.google.com/maps?q=Legacy%20Resort%20Lusaka%20Zambia&output=embed"
        width="100%" height="100%" style="border:0" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </div>

  <!-- ===========================
       Existing Guest Data + Logic (untouched behavior)
       Replace or edit the 'guests' array as needed.
       =========================== -->
  <script>
    // Guest dataset (100 records) - kept from your original file
    const guests = [
  {id:'001', name:'Brides Mother', table:'', status:'Awaiting Check-In'},
  {id:'002', name:'Brides Father', table:'', status:'Awaiting Check-In'},
  {id:'003', name:'Evalyn Mulumba', table:'', status:'Awaiting Check-In'},
  {id:'004', name:'Misheck Mulumba', table:'', status:'Awaiting Check-In'},
  {id:'005', name:'Mubanga Katebe', table:'', status:'Awaiting Check-In'},
  {id:'006', name:'Katebe Katebe', table:'', status:'Awaiting Check-In'},
  {id:'007', name:'Cynthia Mulumba', table:'', status:'Awaiting Check-In'},
  {id:'008', name:'Joshua Mulumba', table:'', status:'Awaiting Check-In'},
  {id:'009', name:'Mukuka Kapembwa', table:'', status:'Awaiting Check-In'},
  {id:'010', name:'Kapembwa Kapembwa', table:'', status:'Awaiting Check-In'},
  {id:'011', name:'Maggie Daka', table:'', status:'Awaiting Check-In'},
  {id:'012', name:'Chipo Daka', table:'', status:'Awaiting Check-In'},
  {id:'013', name:'Natasha Daka', table:'', status:'Awaiting Check-In'},
  {id:'014', name:'Chinyimba Katongo', table:'', status:'Awaiting Check-In'},
  {id:'015', name:'Elita Mwaba', table:'', status:'Awaiting Check-In'},
  {id:'016', name:'Mbonyiwe Sanga', table:'', status:'Awaiting Check-In'},
  {id:'017', name:'Phetsile Sampa', table:'', status:'Awaiting Check-In'},
  {id:'018', name:'Mwechnu Shilikweswe', table:'', status:'Awaiting Check-In'},
  {id:'019', name:'Keagoboka Molekoa', table:'', status:'Awaiting Check-In'},
  {id:'020', name:'Teeman Anderson', table:'', status:'Awaiting Check-In'},
  {id:'021', name:'Angela Chileshe', table:'', status:'Awaiting Check-In'},
  {id:'022', name:'Malcolm Chileshe', table:'', status:'Awaiting Check-In'},
  {id:'023', name:'Mannaseh Daka', table:'', status:'Awaiting Check-In'},
  {id:'024', name:'Dingani Miti', table:'', status:'Awaiting Check-In'},
  {id:'025', name:'Lubula Kanemeka', table:'', status:'Awaiting Check-In'},
  {id:'026', name:'Elizabeth Mwindula Bwalya', table:'', status:'Awaiting Check-In'},
  {id:'027', name:'Edith Kamana', table:'', status:'Awaiting Check-In'},
  {id:'028', name:'Chilufya Katongo', table:'', status:'Awaiting Check-In'},
  {id:'029', name:'Quinn Kasonde', table:'', status:'Awaiting Check-In'},
  {id:'030', name:'Alice Phiri', table:'', status:'Awaiting Check-In'},
  {id:'031', name:'Bunda Mukupo', table:'', status:'Awaiting Check-In'},
  {id:'032', name:'Kaela Mukupo', table:'', status:'Awaiting Check-In'},
  {id:'033', name:'Kashinta Katongo', table:'', status:'Awaiting Check-In'},
  {id:'034', name:'Mildred Katongo', table:'', status:'Awaiting Check-In'},
  {id:'035', name:'Stephen Katongo', table:'', status:'Awaiting Check-In'},
  {id:'036', name:'Pescella Katongo', table:'', status:'Awaiting Check-In'},
  {id:'037', name:'Brenda Daka', table:'', status:'Awaiting Check-In'},
  {id:'038', name:'Emmanuel Daka', table:'', status:'Awaiting Check-In'},
  {id:'039', name:'Mubanga Mwansa', table:'', status:'Awaiting Check-In'},
  {id:'040', name:'Mwelwa Mwansa', table:'', status:'Awaiting Check-In'},
  {id:'041', name:'Chewe Kanwa', table:'', status:'Awaiting Check-In'},
  {id:'042', name:'Chongo Kanwa', table:'', status:'Awaiting Check-In'},
  {id:'043', name:'Paul Mulenga', table:'', status:'Awaiting Check-In'},
  {id:'044', name:'Dorothy Mulenga', table:'', status:'Awaiting Check-In'},
  {id:'045', name:'Evans Simpasa', table:'', status:'Awaiting Check-In'},
  {id:'046', name:'Peggy Simpasa', table:'', status:'Awaiting Check-In'},
  {id:'047', name:'Ernest Chitembo', table:'', status:'Awaiting Check-In'},
  {id:'048', name:'Mwenya Chitembo', table:'', status:'Awaiting Check-In'},
  {id:'049', name:'Mubanga Katongo', table:'', status:'Awaiting Check-In'},
  {id:'050', name:'Linda Katongo', table:'', status:'Awaiting Check-In'},
  {id:'051', name:'Mumba Kawele', table:'', status:'Awaiting Check-In'},
  {id:'052', name:'Muma Kawele', table:'', status:'Awaiting Check-In'},
  {id:'053', name:'Clifford Mulumba', table:'', status:'Awaiting Check-In'},
  {id:'054', name:'Michael Kaminsa', table:'', status:'Awaiting Check-In'},
  {id:'055', name:'Esnart Kaminsa', table:'', status:'Awaiting Check-In'},
  {id:'056', name:'Steven Mwanza', table:'', status:'Awaiting Check-In'},
  {id:'057', name:'Kalizya Kalumbi', table:'', status:'Awaiting Check-In'},
  {id:'058', name:'Hotep Nyendwa', table:'', status:'Awaiting Check-In'},
  {id:'059', name:'Andrew Chibowa', table:'', status:'Awaiting Check-In'},
  {id:'060', name:'Mwaka Chibowa', table:'', status:'Awaiting Check-In'},
  {id:'061', name:'Chapanga Chibowa', table:'', status:'Awaiting Check-In'},
  {id:'062', name:'Kabwe Chibowa', table:'', status:'Awaiting Check-In'},
  {id:'063', name:'Elias Chipepo', table:'', status:'Awaiting Check-In'},
  {id:'064', name:'Joe Mulumba', table:'', status:'Awaiting Check-In'},
  {id:'065', name:'Betty Mulumba', table:'', status:'Awaiting Check-In'},
  {id:'066', name:'Lone Kolobe', table:'', status:'Awaiting Check-In'},
  {id:'067', name:'Alex Mlazie', table:'', status:'Awaiting Check-In'},
  {id:'068', name:'Patrick Mulumba', table:'', status:'Awaiting Check-In'},
  {id:'069', name:'Patrick wife', table:'', status:'Awaiting Check-In'},
  {id:'070', name:'Rabecca Mutakafimbo', table:'', status:'Awaiting Check-In'},
  {id:'071', name:'Charity Mutakafimbo', table:'', status:'Awaiting Check-In'},
  {id:'072', name:'Joseph Kamwela', table:'', status:'Awaiting Check-In'},
  {id:'073', name:'Nametso Moumakwa', table:'', status:'Awaiting Check-In'},
  {id:'074', name:'Eva Mutakafimbo-Chabu', table:'', status:'Awaiting Check-In'},
  {id:'075', name:'Nomusa Michelo', table:'', status:'Awaiting Check-In'},
  {id:'076', name:'Himonga Michelo', table:'', status:'Awaiting Check-In'},
  {id:'077', name:'Kevin Mosweu', table:'', status:'Awaiting Check-In'}
]


    // -----------------------------
    // Helpers & DOM (kept behavior)
    // -----------------------------
    const nameInput = document.getElementById('nameInput');
    const searchBtn = document.getElementById('searchBtn');
    const resultDiv = document.getElementById('result');
    const clearBtn = document.getElementById('clearBtn');
    const randomBtn = document.getElementById('randomBtn');
    const showAll = document.getElementById('showAll');
    const allGuestsContainer = document.getElementById('allGuestsContainer');
    const guestTableBody = document.querySelector('#guestTable tbody');
    const downloadCsv = document.getElementById('downloadCsv');

    function normalize(s){return s.trim().toLowerCase();}

    function findGuestsByName(query){
      if(!query) return [];
      const q = normalize(query);
      // match if query is a substring of the guest name OR matches id
      return guests.filter(g => normalize(g.name).includes(q) || g.id === q.padStart(3,'0'));
    }

    function renderResult(list){
      if(!list || list.length === 0){
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `<div class="name">No matches found</div><div class="muted" style="margin-top:6px">Please check spelling or try a partial name (e.g. "John").</div>`;
        return;
      }
      // multiple
      if(list.length > 1){
        let html = `<div class="name">Found ${list.length} matches</div><div style="margin-top:8px">`;
        html += '<table style="width:100%;border-collapse:collapse"><thead><tr><th style="text-align:left">Name</th><th>Table</th><th>Status</th></tr></thead><tbody>';
        for(const g of list.slice(0,50)){
          html += `<tr><td style="padding:6px 8px">${escapeHtml(g.name)}</td><td style="padding:6px 8px">${g.table}</td><td style="padding:6px 8px"><span class="pill ${g.status === 'Checked-In' ? 'status-checked' : 'status-awaiting'}">${g.status}</span></td></tr>`;
        }
        html += '</tbody></table>';
        html += '</div>';
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = html;
        return;
      }
      // single match
      const g = list[0];
      let sClass = g.status === 'Checked-In' ? 'status-checked' : 'status-awaiting';
      resultDiv.style.display = 'block';
      resultDiv.innerHTML = `<div class="name">${escapeHtml(g.name)} <span class="pill">Table ${g.table}</span></div><div style="margin-top:6px" class="muted">Status: <span class="${sClass}">${g.status}</span></div>`;
    }

    function escapeHtml(text){return (text+'').replace(/[&<>\"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;'}[c]||c));}

    searchBtn.addEventListener('click', ()=>{
      const q = nameInput.value;
      const res = findGuestsByName(q);
      renderResult(res);
    });

    clearBtn.addEventListener('click', ()=>{ nameInput.value=''; resultDiv.style.display='none'; nameInput.focus(); });

    randomBtn.addEventListener('click', ()=>{ const idx = Math.floor(Math.random()*guests.length); nameInput.value = guests[idx].name; const res = findGuestsByName(guests[idx].name); renderResult(res); });

    showAll.addEventListener('click', ()=>{
      if(allGuestsContainer.style.display === 'none' || allGuestsContainer.style.display === ''){
        populateGuestTable(); allGuestsContainer.style.display='block'; showAll.textContent='Hide All'; window.location.hash='all';
      } else { allGuestsContainer.style.display='none'; showAll.textContent='Show All'; }
    });

    function populateGuestTable(){
      guestTableBody.innerHTML = '';
      for(const g of guests){
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${g.id}</td><td>${escapeHtml(g.name)}</td><td>${g.table}</td><td><span class="pill ${g.status === 'Checked-In' ? 'status-checked' : 'status-awaiting'}">${g.status}</span></td>`;
        guestTableBody.appendChild(tr);
      }
    }
    // Countdown to midnight Dec 27, 2025 (local)
document.addEventListener("DOMContentLoaded", function() {
  const target = new Date(2025, 11, 27, 0, 0, 0); // months: 0â€“11, so 11 = December

  const elDays = document.getElementById("cdDays");
  const elHours = document.getElementById("cdHours");
  const elMinutes = document.getElementById("cdMinutes");
  const elSeconds = document.getElementById("cdSeconds");

  if (!elDays || !elHours || !elMinutes || !elSeconds) {
    console.error("Countdown elements not found in DOM");
    return;
  }

  function updateCountdown() {
    const now = new Date();
    let diff = target - now;

    if (diff <= 0) {
      elDays.textContent = "00";
      elHours.textContent = "00";
      elMinutes.textContent = "00";
      elSeconds.textContent = "00";
      return;
    }

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    diff -= days * (1000 * 60 * 60 * 24);
    const hours = Math.floor(diff / (1000 * 60 * 60));
    diff -= hours * (1000 * 60 * 60);
    const minutes = Math.floor(diff / (1000 * 60));
    diff -= minutes * (1000 * 60);
    const seconds = Math.floor(diff / 1000);

    elDays.textContent = String(days).padStart(2, "0");
    elHours.textContent = String(hours).padStart(2, "0");
    elMinutes.textContent = String(minutes).padStart(2, "0");
    elSeconds.textContent = String(seconds).padStart(2, "0");
  }

  updateCountdown();
  setInterval(updateCountdown, 1000);
});


    // If URL has ?name=... prefill
    (function checkQuery(){
      const params = new URLSearchParams(window.location.search);
      if(params.has('name')){ nameInput.value = params.get('name'); searchBtn.click(); }
    })();

    // -----------------------------
    // Slideshow logic (simple)
    // -----------------------------
    (function slideshowInit(){
      const slides = document.getElementById('slides');
      let idx = 0;
      setInterval(()=>{ idx = (idx+1) % slides.children.length; slides.style.transform = `translateX(-${idx*100}%)`; }, 4500);
    })();

    // -----------------------------
    // Countdown to midnight Dec 27, 2025 (local)
window.addEventListener('load', function(){
  const target = new Date(2025, 11, 27, 0, 0, 0); // months: 0-11 -> 11 = December
  const elDays = document.getElementById('cdDays');
  const elHours = document.getElementById('cdHours');
  const elMinutes = document.getElementById('cdMinutes');
  const elSeconds = document.getElementById('cdSeconds');

  function update(){
    const now = new Date();
    let diff = Math.max(0, target - now);
    const days = Math.floor(diff / (1000*60*60*24)); diff -= days*(1000*60*60*24);
    const hours = Math.floor(diff / (1000*60*60)); diff -= hours*(1000*60*60);
    const minutes = Math.floor(diff / (1000*60)); diff -= minutes*(1000*60);
    const seconds = Math.floor(diff / 1000);
    elDays.textContent = String(days).padStart(2,'0');
    elHours.textContent = String(hours).padStart(2,'0');
    elMinutes.textContent = String(minutes).padStart(2,'0');
    elSeconds.textContent = String(seconds).padStart(2,'0');
  }

  update();
  setInterval(update, 1000);
});


    // -----------------------------
    // Map modal open/close
    // -----------------------------
    const openMap = document.getElementById('openMap');
    const mapModal = document.getElementById('mapModal');
    const closeMap = document.getElementById('closeMap');
    openMap.addEventListener('click', ()=>{ mapModal.style.display='flex'; mapModal.setAttribute('aria-hidden','false'); });
    closeMap.addEventListener('click', ()=>{ mapModal.style.display='none'; mapModal.setAttribute('aria-hidden','true'); });
    mapModal.addEventListener('click', (e)=>{ if(e.target === mapModal) { mapModal.style.display='none'; mapModal.setAttribute('aria-hidden','true'); } });

    // Accessibility: trap focus when modal open (simple)
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && mapModal.style.display === 'flex'){ mapModal.style.display='none'; mapModal.setAttribute('aria-hidden','true'); }
    });

  </script>
</body>
</html>

